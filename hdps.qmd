# High-dimensional Propensity score

## Origin

```{r cite, cache= TRUE, echo= FALSE, message=FALSE, eval = FALSE}
library(scholar)
SSalzberg <- "XzOhFPoAAAAJ"
all_pubs <- get_publications(SSalzberg)
## next step is cosmetic -- the equivalent of stringsAsFactors=FALSE
all_pubs <- as.data.frame(lapply(all_pubs,
                                 function(x) if (is.factor(x)) as.character(x) else x))
ch <- get_article_cite_history(SSalzberg,"eQOLeE2rZwMC")
vals <- ch$cites
names(vals) <- ch$year
mp <- barplot(vals,ylim=c(0,120))
title("Citation of Schneeweiss et al. (2009)")
text(mp, vals, labels = vals, pos = 3)
filename <- "images/cite.png"
png(filename)
dev.off()
```

```{r echo=FALSE, out.width='70%', fig.align="center"}
knitr::include_graphics('images/cite.png')
```

::: column-margin
[@schneeweiss2009high]
::: 

## Key idea

[Schneeweiss et al. 2009](https://pubmed.ncbi.nlm.nih.gov/19487948/) extended to a <mark>variety of classifications to code</mark> diagnoses (ICD), procedure (CPT), medications (eg, NDC, AHFS, ATCC), or others (PCP, LOINC).

```{r echo=FALSE, out.width='90%', fig.align="center"}
knitr::include_graphics('images/hdpscov.png')
```

::: column-margin
CPT-4 (Current Procedural Terminology, 4th edition), ICD-9 (International Classification of Diseases, 9th edition), PCP visits (Primary Care Physician visits), NDC (National Drug Code), and ATC (Anatomical Therapeutic Chemical classification) are all codes or measures commonly used in healthcare and medical research.
:::

[Schneeweiss et al. 2018](https://dx.doi.org/10.2147/CLEP.S166545) Clinical Epidemiology: [CC BY license](http://creativecommons.org/licenses/by-nc/3.0/)

::: column-margin
[@schneeweiss2018automated]
::: 

::: callout-tip
## Adjust useful proxies

In administrative data sources, the main idea of hdPS (high-dimensional propensity score) is to adjust for proxies that are empirically associated with the outcome of interest, which may not be directly measured in the data.
:::

::: column-margin
With hdPS, users do not need to know which unmeasured confounders are being adjusted for by proxy information.
:::

-   Adjusting for something that <mark>**may not be interpretable**</mark> directly with the context of the research question.

-   Logic: measures from same subject should be **correlated** = has relevant proxy information
